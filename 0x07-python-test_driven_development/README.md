Tests codes and handle more errors
